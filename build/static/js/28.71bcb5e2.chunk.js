(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1130:function(e,t,a){"use strict";a.r(t);var n=a(15),l=a(59),o=a(60),r=a(62),i=a(61),c=a(63),u=a(2),m=a.n(u),s=a(30),p=a(39),h=a(404),y=a(403),g=a(408),d=a(409),E=a(333),A=a(359),v=a(630),f=a(31),b=a(335),C=a(330),P=a(691),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).onChangeDecimalHandler=function(e){if(e.target.value.search(/\D+/)>=0)return null;var t=e.target,l=t.name,o=t.value;a.setState(Object(n.a)({},l,o))},a.handlecompany=function(e){e[0];if("object"===typeof e[0])return a.setState({company:e[0].label}),null;e.length&&a.setState({company:e[0]})},a.handlePayment=function(e){e.length&&a.setState({paymentMethod:e[0]})},a.onChangeHandler=function(e){var t=e.target,l=t.name,o=t.value;a.setState(Object(n.a)({},l,o))},a.onSubmitHandler=function(e){e.preventDefault();var t=a.state,n=t._id,l=t.policyName,o=t.policyNumber,r=t.policyType,i=t.company,c=t.policyStartDate,u=t.ageIncepted,m=t.policyEndAge,s=t.policyDuration,p=t.premiumSGD,h=t.paymentFrequency,y=t.paymentMethod,g=t.premiumEndAge,d=t.cashValueAge,E=t.cashValueAmount,A=t.maturityAmountAge,v=t.maturityAmount,f=t.couponPayoutFromAge,b=t.couponPayoutToAge,C=t.couponPayoutAnnualAmount,P=t.investmentValueAge1,V=t.investmentValueAge2,F=t.investmentValueAge3,D=t.investmentValueAmount1,N=t.investmentValueAmount2,x=t.investmentValueAmount3,H=t.remarks,S=t.benefitId,I=t.death,k=t.totalPermanentDisability,B=t.disabilityIncome,T=t.criticalIllness,O=t.earlyCriticalIllness,j=t.accidentalDeath,M=t.accidentalDisability,w=t.accidentalReimbursement,R=t.hospitalization,q=t.hospitalIncome,z=t.other;a.props.updatePolicy(n,l,o,r,i,c,u,m,s,p,h,y,g,d,E,A,v,f,b,C,P,V,F,D,N,x,H,S,I,k,B,T,O,j,M,w,R,q,z)},a.state={user:Object(f.a)(),_id:"",policyName:"",policyNumber:"",policyType:"",company:"",policyStartDate:"",ageIncepted:"",policyEndAge:"",policyDuration:"",premiumSGD:"",paymentFrequency:"",paymentMethod:"Cash",premiumEndAge:"",cashValueAmount:0,cashValueAge:0,maturityAmountAge:0,maturityAmount:0,couponPayoutFromAge:0,couponPayoutToAge:0,couponPayoutAnnualAmount:0,investmentValueAge1:0,investmentValueAge2:0,investmentValueAge3:0,investmentValueAmount1:0,investmentValueAmount2:0,investmentValueAmount3:0,remarks:"",benefitId:"",death:"",totalPermanentDisability:"",disabilityIncome:"",criticalIllness:"",earlyCriticalIllness:"",accidentalDeath:"",accidentalDisability:"",accidentalReimbursement:"",hospitalization:"",hospitalIncome:"",other:""},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"calcPolicyDuration",value:function(){if(""!==this.state.policyEndAge&&""!==this.state.ageIncepted){var e=parseInt(this.state.policyEndAge,"10"),t=parseInt(this.state.ageIncepted,"10");this.setState({policyDuration:"".concat(e-t," years")})}}},{key:"componentDidMount",value:function(){this.props.getPolicy(this.props.match.params.policyId)}},{key:"componentWillReceiveProps",value:function(e){if(e.policy!==this.props.policy){var t=e.policy.company?e.policy.company:"",a=e.policy.paymentMethod?e.policy.paymentMethod:"";this.setState({_id:e.policy._id,policyName:e.policy.policyName,policyNumber:e.policy.policyNumber,policyType:e.policy.policyType,company:t,policyStartDate:e.policy.policyStartDate,ageIncepted:e.policy.ageIncepted,policyEndAge:e.policy.policyEndAge,policyDuration:e.policy.policyDuration,premiumSGD:e.policy.premiumSGD,paymentFrequency:e.policy.paymentFrequency,paymentMethod:a,premiumEndAge:e.policy.premiumEndAge,cashValueAge:e.policy.cashValueAge,cashValueAmount:e.policy.cashValueAmount,maturityAmountAge:e.policy.maturityAmountAge,maturityAmount:e.policy.maturityAmount,couponPayoutFromAge:e.policy.couponPayoutFromAge,couponPayoutToAge:e.policy.couponPayoutToAge,couponPayoutAnnualAmount:e.policy.couponPayoutAnnualAmount,investmentValueAge1:e.policy.investmentValueAge1,investmentValueAge2:e.policy.investmentValueAge2,investmentValueAge3:e.policy.investmentValueAge3,investmentValueAmount1:e.policy.investmentValueAmount1,investmentValueAmount2:e.policy.investmentValueAmount2,investmentValueAmount3:e.policy.investmentValueAmount3,remarks:e.policy.remarks,benefitId:e.policy.benefit._id,death:e.policy.benefit.death,totalPermanentDisability:e.policy.benefit.totalPermanentDisability,disabilityIncome:e.policy.benefit.disabilityIncome,criticalIllness:e.policy.benefit.criticalIllness,earlyCriticalIllness:e.policy.benefit.earlyCriticalIllness,accidentalDeath:e.policy.benefit.accidentalDeath,accidentalDisability:e.policy.benefit.accidentalDisability,accidentalReimbursement:e.policy.benefit.accidentalReimbursement,hospitalization:e.policy.benefit.hospitalization,hospitalIncome:e.policy.benefit.hospitalIncome,other:e.policy.benefit.other})}}},{key:"getPolicyAddFiled",value:function(){var e=this;return"Risk Management"==this.state.policyType?m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Coupon Payout"),m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:3},m.a.createElement("input",{type:"number",name:"couponPayoutFromAge",value:this.state.couponPayoutFromAge,onChange:this.onChangeHandler,placeholder:"From Age",className:"form-control",onBlur:function(t){e.setState({couponPayoutFromAge:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:3},m.a.createElement("input",{type:"number",name:"couponPayoutToAge",value:this.state.couponPayoutToAge,onChange:this.onChangeHandler,placeholder:"To Age",className:"form-control",onBlur:function(t){e.setState({couponPayoutToAge:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"couponPayoutAnnualAmount",className:"form-control",value:this.state.couponPayoutAnnualAmount,onChange:this.onChangeHandler,onBlur:function(t){e.setState({couponPayoutAnnualAmount:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Annual Amount"}))))):"Wealth Accumulation"==this.state.policyType||"Wealth Preservation"==this.state.policyType?m.a.createElement("div",null,m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Maturity Amount"),m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"maturityAmountAge",value:this.state.maturityAmountAge,onChange:this.onChangeHandler,placeholder:"Age",className:"form-control",onBlur:function(t){e.setState({maturityAmountAge:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"maturityAmount",className:"form-control",value:this.state.maturityAmount,onChange:this.onChangeHandler,onBlur:function(t){e.setState({maturityAmount:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Amount"}))))),m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Coupon Payout"),m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:3},m.a.createElement("input",{type:"number",name:"couponPayoutFromAge",value:this.state.couponPayoutFromAge,onChange:this.onChangeHandler,placeholder:"From Age",className:"form-control",onBlur:function(t){e.setState({couponPayoutFromAge:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:3},m.a.createElement("input",{type:"number",name:"couponPayoutToAge",value:this.state.couponPayoutToAge,onChange:this.onChangeHandler,placeholder:"To Age",className:"form-control",onBlur:function(t){e.setState({couponPayoutToAge:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"couponPayoutAnnualAmount",className:"form-control",value:this.state.couponPayoutAnnualAmount,onChange:this.onChangeHandler,onBlur:function(t){e.setState({couponPayoutAnnualAmount:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Annual Amount"}))))),m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Investment Value"),m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"investmentValueAge1",value:this.state.investmentValueAge1,onChange:this.onChangeHandler,placeholder:"Age",className:"form-control",onBlur:function(t){e.setState({investmentValueAge1:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"investmentValueAmount1",className:"form-control",value:this.state.investmentValueAmount1,onChange:this.onChangeHandler,onBlur:function(t){e.setState({investmentValueAmount1:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Amount"}))))),m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"investmentValueAge2",value:this.state.investmentValueAge2,onChange:this.onChangeHandler,placeholder:"Age",className:"form-control",onBlur:function(t){e.setState({investmentValueAge2:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"investmentValueAmount2",className:"form-control",value:this.state.investmentValueAmount2,onChange:this.onChangeHandler,onBlur:function(t){e.setState({investmentValueAmount2:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Amount"}))))),m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"investmentValueAge3",value:this.state.investmentValueAge3,onChange:this.onChangeHandler,placeholder:"Age",className:"form-control",onBlur:function(t){e.setState({investmentValueAge3:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"investmentValueAmount3",className:"form-control",value:this.state.investmentValueAmount3,onChange:this.onChangeHandler,onBlur:function(t){e.setState({investmentValueAmount3:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Amount"})))))):void 0}},{key:"render",value:function(){var e=this;if(this.props.updatePolicySuccess)return m.a.createElement(s.a,{to:"/clients/".concat(this.props.match.params.id,"/view#i-p")});return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,this.props.loading&&m.a.createElement(C.a,null),m.a.createElement(y.a,null,m.a.createElement(h.a,null,m.a.createElement("div",{className:"page-title-box"},m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:7},m.a.createElement("h4",{className:"page-title"},"Update Policy")),m.a.createElement(h.a,{lg:5,className:"mt-lg-3 mt-md-0"}))))),m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:12},m.a.createElement(g.a,null,m.a.createElement(d.a,null,this.props.error&&m.a.createElement(E.a,{color:"danger",isOpen:!!this.props.error},m.a.createElement("div",null,this.props.error)),m.a.createElement("form",{onSubmit:this.onSubmitHandler},m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:12},m.a.createElement("h4",{className:"page-title"},"Policy"),m.a.createElement("div",{style:{margin:"25px 0px 20px 0px"}},m.a.createElement("span",{style:Object(n.a)({display:"block",border:"none",color:"white",height:"1px",background:"black"},"background","-webkit-gradient(radial, 50% 50%, 0, 50% 50%, 350, from(#000), to(#fff))")}))),m.a.createElement(h.a,{lg:12},m.a.createElement(P.a,{label:"Policy Name",type:"text",name:"policyName",onChange:this.onChangeHandler,value:this.state.policyName})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Policy Number",type:"text",name:"policyNumber",onChange:this.onChangeHandler,value:this.state.policyNumber})),m.a.createElement(h.a,{lg:6},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Policy Type"),m.a.createElement("select",{name:"policyType",className:"form-control",onChange:this.onChangeHandler,value:this.state.policyType},m.a.createElement("option",{value:""},"Choose type"),m.a.createElement("option",{value:"Risk Management"},"Risk Management"),m.a.createElement("option",{value:"Wealth Accumulation"},"Wealth Accumulation"),m.a.createElement("option",{value:"Wealth Preservation"},"Wealth Preservation")))),m.a.createElement(h.a,{lg:12},m.a.createElement("div",{style:{marginBottom:"15px"}},m.a.createElement("label",null,"Company"),m.a.createElement(v.Typeahead,{allowNew:!0,selected:[this.state.company],id:"company",multiple:!1,options:["AIA","Aviva","AXA Life","China Life","Great Eastern","HSBC","Manulife","NTUC Income","Overseas Assurance","Singapore Life","Transamerica","Prudential","Zurich"],onChange:this.handlecompany,placeholder:"Choose a Company...."}))),m.a.createElement(h.a,{lg:3},m.a.createElement(P.a,{label:"Policy Start Date",type:"date",name:"policyStartDate",onChange:this.onChangeHandler,value:this.state.policyStartDate})),m.a.createElement(h.a,{lg:3},m.a.createElement(P.a,{label:"Age Incepted",type:"text",name:"ageIncepted",onChange:function(t){e.onChangeDecimalHandler(t)},value:this.state.ageIncepted,onBlur:function(t){return e.calcPolicyDuration()}})),m.a.createElement(h.a,{lg:3},m.a.createElement(P.a,{label:"Policy End Age",type:"text",name:"policyEndAge",onChange:function(t){e.onChangeDecimalHandler(t)},value:this.state.policyEndAge,onBlur:function(t){return e.calcPolicyDuration()}})),m.a.createElement(h.a,{lg:3},m.a.createElement(P.a,{label:"Policy Duration",type:"text",name:"policyDuration",onChange:this.onChangeHandler,value:this.state.policyDuration})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Premium (SGD)",type:"text",name:"premiumSGD",onChange:this.onChangeHandler,value:this.state.premiumSGD})),m.a.createElement(h.a,{lg:6},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Payment Frequency"),m.a.createElement("select",{name:"paymentFrequency",className:"form-control",onChange:this.onChangeHandler,value:this.state.paymentFrequency},m.a.createElement("option",{value:""},"Choose type"),m.a.createElement("option",{value:"Monthly"},"Monthly"),m.a.createElement("option",{value:"Quarterly"},"Quarterly"),m.a.createElement("option",{value:"Half Yearly"},"Half Yearly"),m.a.createElement("option",{value:"Annually"},"Annually")))),m.a.createElement(h.a,{lg:6},m.a.createElement("div",{style:{marginBottom:"15px"}},m.a.createElement("label",null,"Payment Method"),m.a.createElement(v.Typeahead,{id:"Payment Method",selected:[this.state.paymentMethod],multiple:!1,options:["Cash","Medisave","CPF- OA","CPF- SA"],onChange:function(t){return e.handlePayment(t)},placeholder:"Choose a Payment Method...."}))),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Premium End Age",type:"text",name:"premiumEndAge",onChange:this.onChangeDecimalHandler,value:this.state.premiumEndAge})),m.a.createElement(h.a,{lg:12},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",null,"Cash Value"),m.a.createElement(y.a,null,m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"cashValueAge",value:this.state.cashValueAge,onChange:this.onChangeHandler,placeholder:"Age",className:"form-control",onBlur:function(t){e.setState({cashValueAge:parseFloat(t.target.value,"10").toFixed(0)})}})),m.a.createElement(h.a,{lg:6},m.a.createElement("input",{type:"number",name:"cashValueAmount",className:"form-control",value:this.state.cashValueAmount,onChange:this.onChangeHandler,onBlur:function(t){e.setState({cashValueAmount:parseFloat(t.target.value,"10").toFixed(2)})},placeholder:"Amount"}))))),this.getPolicyAddFiled(),m.a.createElement(h.a,{lg:12},m.a.createElement(P.a,{label:"Remarks",type:"text",name:"remarks",onChange:this.onChangeHandler,value:this.state.remarks})),m.a.createElement(h.a,{lg:12},m.a.createElement("h4",{className:"page-title"},"Benefit"),m.a.createElement("div",{style:{margin:"25px 0px 20px 0px"}},m.a.createElement("span",{style:Object(n.a)({display:"block",border:"none",color:"white",height:"2px",background:"black"},"background","-webkit-gradient(radial, 50% 50%, 0, 50% 50%, 350, from(#000), to(#fff))")}))),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Death",type:"text",name:"death",onChange:this.onChangeHandler,value:this.state.death})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Total Permanent Disability",type:"text",name:"totalPermanentDisability",onChange:this.onChangeHandler,value:this.state.totalPermanentDisability})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Disability Income",type:"text",name:"disabilityIncome",onChange:this.onChangeHandler,value:this.state.disabilityIncome})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Critical Illness",type:"text",name:"criticalIllness",onChange:this.onChangeHandler,value:this.state.criticalIllness})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Early Critical Illness",type:"text",name:"earlyCriticalIllness",onChange:this.onChangeHandler,value:this.state.earlyCriticalIllness})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Accidental Death",type:"text",name:"accidentalDeath",onChange:this.onChangeHandler,value:this.state.accidentalDeath})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Accidental Disability",type:"text",name:"accidentalDisability",onChange:this.onChangeHandler,value:this.state.accidentalDisability})),m.a.createElement(h.a,{lg:6},m.a.createElement(P.a,{label:"Accidental Reimbursement",type:"text",name:"accidentalReimbursement",onChange:this.onChangeHandler,value:this.state.accidentalReimbursement})),m.a.createElement(h.a,{lg:12},m.a.createElement(P.a,{label:"Hospitalization",type:"text",name:"hospitalization",onChange:this.onChangeHandler,value:this.state.hospitalization})),m.a.createElement(h.a,{lg:12},m.a.createElement(P.a,{label:"Hospital Income",type:"text",name:"hospitalIncome",onChange:this.onChangeHandler,value:this.state.hospitalIncome})),m.a.createElement(h.a,{lg:12},m.a.createElement(P.a,{label:"Other",type:"text",name:"otherBenefit",onChange:this.onChangeHandler,value:this.state.otherBenefit})),m.a.createElement(h.a,{lg:12},m.a.createElement(A.a,{type:"submit",color:"primary"},"Submit"))))))))))}}]),t}(u.Component);t.default=Object(p.b)(function(e){var t=e.User;return{user:t.user,policy:t.policy,updatePolicySuccess:t.updatePolicySuccess,loading:t.loading,error:t.error}},{getPolicy:b.o,updatePolicy:b.B})(V)},330:function(e,t,a){"use strict";var n=a(59),l=a(60),o=a(62),r=a(61),i=a(63),c=a(2),u=a.n(c),m=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"preloader"},u.a.createElement("div",{className:"status"},u.a.createElement("div",{className:"spinner-border avatar-sm text-primary m-2",role:"status"})))}}]),t}(c.Component);t.a=m},335:function(e,t,a){"use strict";var n=a(20);a.d(t,"s",function(){return n.c}),a.d(t,"t",function(){return n.f}),a.d(t,"u",function(){return n.g});var l=a(6);a.d(t,"a",function(){return l.a}),a.d(t,"c",function(){return l.d}),a.d(t,"d",function(){return l.g}),a.d(t,"e",function(){return l.j}),a.d(t,"g",function(){return l.m}),a.d(t,"h",function(){return l.p}),a.d(t,"i",function(){return l.s}),a.d(t,"j",function(){return l.v}),a.d(t,"k",function(){return l.y}),a.d(t,"l",function(){return l.z}),a.d(t,"o",function(){return l.E}),a.d(t,"p",function(){return l.H}),a.d(t,"q",function(){return l.K}),a.d(t,"r",function(){return l.N}),a.d(t,"w",function(){return l.Q}),a.d(t,"x",function(){return l.R}),a.d(t,"y",function(){return l.V}),a.d(t,"z",function(){return l.Z}),a.d(t,"B",function(){return l.cb});var o=a(38);a.d(t,"b",function(){return o.a}),a.d(t,"f",function(){return o.c}),a.d(t,"m",function(){return o.f}),a.d(t,"n",function(){return o.g}),a.d(t,"v",function(){return o.h}),a.d(t,"A",function(){return o.i})},691:function(e,t,a){"use strict";var n=a(2),l=a.n(n),o=a(278),r=a.n(o);t.a=function(e){var t=e.label,a=e.type,n=e.value,o=e.name,i=e.placeHolder,c=e.extraClass,u=e.onChange,m=e.onBlur,s=e.required,p=e.validationError;return l.a.createElement("div",{className:r()("form-group",c,{"has-danger":p})},t?l.a.createElement("label",null,t):null,l.a.createElement("input",{type:a,value:n,name:o,placeholder:i,onChange:u,onBlur:m,className:"form-control",required:s}),p&&l.a.createElement("div",{className:"form-control-feedback"},p))}}}]);
//# sourceMappingURL=28.71bcb5e2.chunk.js.map