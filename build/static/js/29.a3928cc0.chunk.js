(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1127:function(e,t,a){"use strict";a.r(t);var n=a(15),i=a(59),l=a(60),r=a(62),c=a(61),s=a(63),o=a(88),m=a(2),d=a.n(m),u=a(39),f=a(369),h=a(370),p=a(403),y=a(404),g=a(368),b=a(371),E=a(372),_=a(380),v=a(383),C=a(381),z=a(382),A=a(48),S=a(31),j=a(335),O=a(330),k=a(278),w=a.n(k),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).setActive=function(e){a.props.setActive(e)},a.onChangeHandler=function(e){var t=e.target,i=t.name,l=t.value;a.setState(Object(n.a)({},i,l))},a.onFinancialSubmitHandler=function(e){a.props.updateAccountFinancial(a.state.user.id,{death:a.state.death,tpd:a.state.tpd,critical_illness:a.state.critical_illness,early_critical_illness:a.state.early_critical_illness,disability_income:a.state.disability_income,accidental_death:a.state.accidental_death,accidental_disability:a.state.accidental_disability,accidental_reimbursement:a.state.accidental_reimbursement})},a.state={user:Object(S.a)(),default_death:0,default_tpd:0,default_critical_illness:0,default_early_critical_illness:0,default_disability_income:0,default_accidental_death:0,default_accidental_disability:0,default_accidental_reimbursement:0,default_categories:[],default_companies:[],death:0,tpd:0,critical_illness:0,early_critical_illness:0,disability_income:0,accidental_death:0,accidental_disability:0,accidental_reimbursement:0,currentCategory:"",categories:[],currentCompany:""},a.setActive=a.setActive.bind(Object(o.a)(Object(o.a)(a))),a.onFinancialSubmitHandler=a.onFinancialSubmitHandler.bind(Object(o.a)(Object(o.a)(a))),a.addCategory=a.addCategory.bind(Object(o.a)(Object(o.a)(a))),a.addCompany=a.addCompany.bind(Object(o.a)(Object(o.a)(a))),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.setting!==this.props.setting&&this.setState({default_death:e.setting.default_death,default_tpd:e.setting.default_tpd,default_critical_illness:e.setting.default_critical_illness,default_early_critical_illness:e.setting.default_early_critical_illness,default_disability_income:e.setting.default_disability_income,default_accidental_death:e.setting.default_accidental_death,default_accidental_disability:e.setting.default_accidental_disability,default_accidental_reimbursement:e.setting.default_death,default_categories:e.setting.default_categories,currentCategory:"",default_companies:e.setting.default_companies,currentCompany:""}),e.user!==this.props.user&&this.setState({death:e.user.financial.death,tpd:e.user.financial.tpd,critical_illness:e.user.financial.critical_illness,early_critical_illness:e.user.financial.early_critical_illness,disability_income:e.user.financial.disability_income,accidental_death:e.user.financial.accidental_death,accidental_disability:e.user.financial.accidental_disability,accidental_reimbursement:e.user.financial.accidental_reimbursement,categories:e.user.categories,company:e.user.company?e.user.company:this.state.company})}},{key:"getShieldFiled",value:function(){var e=this;if(this.state.user&&"admin"==this.state.user.role)return d.a.createElement(f.a,null,d.a.createElement(h.a,{className:w()({active:"shield"===this.props.active}),onClick:function(){return e.setActive("shield")}},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Shield\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"))}},{key:"componentDidMount",value:function(){this.props.getUser(this.state.user.id),this.props.getSetting(),this.props.getCompanies()}},{key:"deleteCategory",value:function(e){this.state.categories=this.state.categories.filter(function(t){return t!=e}),this.props.updateAccountCategories(this.state.user.id,this.state.categories)}},{key:"addCategory",value:function(e){e.preventDefault();var t=!0,a=!1,n=void 0;try{for(var i,l=this.state.categories[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){if(i.value==this.state.currentCategory)return}}catch(r){a=!0,n=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}this.state.categories.push(this.state.currentCategory),this.props.updateAccountCategories(this.state.user.id,this.state.categories)}},{key:"addCompany",value:function(e){if(e.preventDefault(),this.state.currentCompany){var t=!0,a=!1,n=void 0;try{for(var i,l=this.props.companies[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){if(i.value.companyname==this.state.currentCompany)return void alert("Already exist")}}catch(r){a=!0,n=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}}this.props.addCompany(this.state.currentCompany),this.setState({currentCompany:""})}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:""},this.props.loading&&d.a.createElement(O.a,null),d.a.createElement(p.a,null,d.a.createElement(y.a,null,d.a.createElement("div",{className:"page-title-box"},d.a.createElement(p.a,null,d.a.createElement(y.a,{lg:7},d.a.createElement("h4",{className:"page-title"},"Settings")))))),d.a.createElement(g.a,{tabs:!0},d.a.createElement(f.a,null,d.a.createElement(h.a,{className:w()({active:"financial"===this.props.active}),onClick:function(){return e.setActive("financial")}},"Financial Summary")),d.a.createElement(f.a,null,d.a.createElement(h.a,{className:w()({active:"category"===this.props.active}),onClick:function(){return e.setActive("category")}},"\xa0\xa0\xa0\xa0\xa0\xa0Categories\xa0\xa0\xa0\xa0\xa0\xa0")),this.getShieldFiled()),d.a.createElement(b.a,{activeTab:this.props.active},d.a.createElement(E.a,{tabId:"financial"},d.a.createElement(_.a,{onSubmit:this.onFinancialSubmitHandler},d.a.createElement(p.a,{style:{marginBottom:15,marginTop:20}},d.a.createElement(y.a,{lg:{size:2,offset:1}},d.a.createElement(v.a,{style:{fontSize:20}},d.a.createElement("b",null,"Income Protection"))),d.a.createElement(y.a,{lg:{size:4}},d.a.createElement(v.a,{style:{fontSize:20}},"Optimisation")),d.a.createElement(y.a,{lg:{size:2}})),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"exampleEmail",lg:{size:2,offset:1}},"Death"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"death",id:"death",placeholder:"Death",onChange:this.onChangeHandler,value:this.state.death})),d.a.createElement(v.a,{for:"death",lg:{size:1}},"%"),d.a.createElement(v.a,{for:"death",lg:{size:1}},"of annual income")),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"exampleEmail",lg:{size:2,offset:1}},"TPD"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"tpd",id:"tpd",placeholder:"TPD",onChange:this.onChangeHandler,value:this.state.tpd})),d.a.createElement(v.a,{for:"tpd",lg:{size:1}},"%"),d.a.createElement(v.a,{for:"tpd",lg:{size:1}},"of annual income")),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"critical_illness",lg:{size:2,offset:1}},"Critical illness"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"critical_illness",id:"critical_illness",placeholder:"Critical Illness",onChange:this.onChangeHandler,value:this.state.critical_illness})),d.a.createElement(v.a,{for:"critical_illness",lg:{size:1}},"%"),d.a.createElement(v.a,{for:"critical_illness",lg:{size:1}},"of annual income")),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"disability_income",lg:{size:2,offset:1}},"Disability Income"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"disability_income",id:"disability_income",placeholder:"Disability Income",onChange:this.onChangeHandler,value:this.state.disability_income})),d.a.createElement(v.a,{for:"disability_income",lg:{size:1}},"%"),d.a.createElement(v.a,{for:"disability_income",lg:{size:1}},"of month income")),d.a.createElement(p.a,{style:{marginBottom:15}},d.a.createElement(y.a,{lg:{size:2,offset:1}},d.a.createElement(v.a,{style:{fontSize:20}},d.a.createElement("b",null,"Accident Protection")))),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"accidental_death",lg:{size:2,offset:1}},"Accidental Death"),d.a.createElement(v.a,{for:"accidental_reimbursement",style:{marginTop:7}},"$"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"accidental_death",id:"accidental_death",placeholder:"Accidental Death",onChange:this.onChangeHandler,value:this.state.accidental_death}))),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"accidental_disability",lg:{size:2,offset:1}},"Accidental Disability"),d.a.createElement(v.a,{for:"accidental_reimbursement",style:{marginTop:7}},"$"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"accidental_disability",id:"accidental_disability",placeholder:"Accidental Disability",onChange:this.onChangeHandler,value:this.state.accidental_disability}))),d.a.createElement(C.a,{row:!0},d.a.createElement(v.a,{for:"accidental_reimbursement",lg:{size:2,offset:1}},"Accidental Reimbursement"),d.a.createElement(v.a,{for:"accidental_reimbursement",style:{marginTop:7}},"$"),d.a.createElement(y.a,{sm:2},d.a.createElement(z.a,{type:"number",name:"accidental_reimbursement",id:"accidental_reimbursement",placeholder:"Accidental Reimbursement",onChange:this.onChangeHandler,value:this.state.accidental_reimbursement}))),d.a.createElement(C.a,{row:!0},d.a.createElement(y.a,{sm:2},d.a.createElement("button",{className:"btn btn-info",style:{marginLeft:140,marginTop:40,width:90}},"Save"))))),d.a.createElement(E.a,{tabId:"category"},d.a.createElement(C.a,null,d.a.createElement(y.a,{lg:{size:2,offset:1}},d.a.createElement(v.a,{style:{fontSize:20}},d.a.createElement("b",null,"Add Categories"))),d.a.createElement(p.a,{style:{marginBottom:15,marginTop:20}},d.a.createElement(y.a,{lg:{size:2,offset:1}},d.a.createElement(z.a,{type:"text",name:"currentCategory",id:"currentCategory",editable:"true",onChange:this.onChangeHandler,value:this.state.currentCategory},this.state.default_categories.map(function(e,t){return d.a.createElement("option",{key:t},e)}))),d.a.createElement(y.a,{lg:{size:2}},d.a.createElement("button",{className:"btn btn-info",style:{width:90},onClick:this.addCategory},"Add"))),d.a.createElement(p.a,null,d.a.createElement(y.a,{lg:{size:4,offset:1}},d.a.createElement("table",{className:"table table-bordered"},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",null,"My Categories"),d.a.createElement("th",null,"Action"))),d.a.createElement("tbody",null,this.state.categories.map(function(t,a){return d.a.createElement("tr",{key:a},d.a.createElement("td",null,t),d.a.createElement("td",null,d.a.createElement("a",{href:"#",onClick:function(){return e.deleteCategory(t)}},"Delete")))}))))))),d.a.createElement(E.a,{tabId:"shield"},d.a.createElement(C.a,null,d.a.createElement(y.a,{lg:{size:2,offset:1}},d.a.createElement(v.a,{style:{fontSize:20}},d.a.createElement("b",null,"Companies"))),d.a.createElement(p.a,{style:{marginBottom:15,marginTop:20}},d.a.createElement(y.a,{lg:{size:2,offset:1}},d.a.createElement(z.a,{type:"text",name:"currentCompany",id:"currentCompany",editable:"true",onChange:function(t){return e.setState({currentCompany:t.target.value})},value:this.state.currentCompany})),d.a.createElement(y.a,{lg:{size:2}},d.a.createElement("button",{className:"btn btn-info",style:{width:90},onClick:this.addCompany},"Add"))),d.a.createElement(p.a,null,d.a.createElement(y.a,{lg:{size:4,offset:1}},d.a.createElement("table",{className:"table table-bordered"},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Company"),d.a.createElement("th",null,"Action"))),d.a.createElement("tbody",null,this.props.companies&&this.props.companies.map(function(e,t){return d.a.createElement("tr",{key:t},d.a.createElement("td",null,e.companyname),d.a.createElement("td",null,d.a.createElement(A.b,{to:"/settings/".concat(e._id,"/edit-company")},"edit")))}))))))))))}}]),t}(m.Component);t.default=Object(u.b)(function(e){var t=e.User,a=e.Company,n=t.loading;return{setting:t.setting,loading:n,user:t.user,error:t.error,companies:a.companies,active:a.active}},{getUser:j.q,getSetting:j.p,updateAccountCategories:j.x,updateAccountFinancial:j.y,addCompany:j.b,getCompanies:j.m,setActive:j.v})(N)},330:function(e,t,a){"use strict";var n=a(59),i=a(60),l=a(62),r=a(61),c=a(63),s=a(2),o=a.n(s),m=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"preloader"},o.a.createElement("div",{className:"status"},o.a.createElement("div",{className:"spinner-border avatar-sm text-primary m-2",role:"status"})))}}]),t}(s.Component);t.a=m},335:function(e,t,a){"use strict";var n=a(20);a.d(t,"s",function(){return n.c}),a.d(t,"t",function(){return n.f}),a.d(t,"u",function(){return n.g});var i=a(6);a.d(t,"a",function(){return i.a}),a.d(t,"c",function(){return i.d}),a.d(t,"d",function(){return i.g}),a.d(t,"e",function(){return i.j}),a.d(t,"g",function(){return i.m}),a.d(t,"h",function(){return i.p}),a.d(t,"i",function(){return i.s}),a.d(t,"j",function(){return i.v}),a.d(t,"k",function(){return i.y}),a.d(t,"l",function(){return i.z}),a.d(t,"o",function(){return i.E}),a.d(t,"p",function(){return i.H}),a.d(t,"q",function(){return i.K}),a.d(t,"r",function(){return i.N}),a.d(t,"w",function(){return i.Q}),a.d(t,"x",function(){return i.R}),a.d(t,"y",function(){return i.V}),a.d(t,"z",function(){return i.Z}),a.d(t,"B",function(){return i.cb});var l=a(38);a.d(t,"b",function(){return l.a}),a.d(t,"f",function(){return l.c}),a.d(t,"m",function(){return l.f}),a.d(t,"n",function(){return l.g}),a.d(t,"v",function(){return l.h}),a.d(t,"A",function(){return l.i})}}]);
//# sourceMappingURL=29.a3928cc0.chunk.js.map