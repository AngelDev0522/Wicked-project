{"version":3,"sources":["components/Sidebar.js","../node_modules/metismenujs/dist/metismenujs.js"],"names":["SideNavContent","props","role","user","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","Fragment","id","className","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","Sidebar","_this","Object","_Volumes_Developement_Dev_Data_React_wecare_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Volumes_Developement_Dev_Data_React_wecare_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Volumes_Developement_Dev_Data_React_wecare_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","componentWillMount","document","addEventListener","handleOtherClick","componentDidMount","initMenu","componentDidUpdate","prevProps","isCondensed","body","classList","remove","add","window","innerWidth","componentWillUnmount","removeEventListener","e","menuNodeRef","contains","target","MetisMenu","links","getElementsByClassName","matchingMenuItem","i","length","location","pathname","parent","parentElement","parent2","parent3","childAnchor","querySelector","parent4","parent5","bind","_Volumes_Developement_Dev_Data_React_wecare_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_this2","ref","node","react_perfect_scrollbar__WEBPACK_IMPORTED_MODULE_9___default","Component","connect","module","exports","_assign","assign","t","s","n","arguments","p","prototype","hasOwnProperty","apply","Default","parentTrigger","subMenu","toggle","triggerElement","ClassName","ACTIVE","COLLAPSE","COLLAPSED","COLLAPSING","METIS","SHOW","element","options","cacheEl","config","cacheConfig","disposed","ulArr","listenerOb","init","update","dispose","_i","_a","lo","key","el","on","event","fn","off","emit","eventDetail","shouldBubble","evt","CustomEvent","bubbles","detail","createEvent","initCustomEvent","dispatchEvent","slice","querySelectorAll","ul","li","parentNode","show","hide","getAttribute","setAttribute","aClick","clickEvent","listener","push","ev","currentTarget","tagName","preventDefault","isTransitioning","style","height","eleParentSiblins","children","filter","c","eleParentSiblins_1","sibli","sibUl","setTransitioning","scrollHeight","showElement","complete","shownElement","hideElement","getBoundingClientRect","offsetHeight","hiddenElement","factory"],"mappings":"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","file":"static/js/31.b9167b0e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport MetisMenu from 'metismenujs/dist/metismenujs';\n\n\nconst SideNavContent = (props) => {\n    let {user}=props;\n    let role;\n    if(user){\n        role=user.role;\n    }\n    return <React.Fragment>\n        <div id=\"sidebar-menu\">\n\n            <ul className=\"metismenu\" id=\"side-menu\">\n\n                <li className=\"menu-title\">Navigation</li>\n\n                <li>\n                    <Link to=\"/dashboard\" className=\"side-nav-link-ref\">\n                        <i className=\"mdi mdi-home-city-outline\" />\n                        <span> Dashboard </span>\n                    </Link>\n                </li>\n\n              {role==='admin'&&( <li>\n                    <Link to=\"/users\" className=\"side-nav-link-ref\">\n                        <i className=\"fe-users\" />\n                        <span> Users </span>\n                    </Link>\n              </li>)}\n\n                <li>\n                    <Link to=\"/clients\" className=\"side-nav-link-ref\">\n                        <i className=\"mdi mdi-account-box\" />\n                        <span> Clients </span>\n                    </Link>\n                </li>\n\n                <li>\n                    <Link to=\"/settings\" className=\"side-nav-link-ref\">\n                        <i className=\"mdi mdi-account-box\" />\n                        <span> Settings </span>\n                    </Link>\n                </li>\n            </ul>\n        </div>\n        <div className=\"clearfix\"></div>\n    </React.Fragment>\n};\n\n\nclass Sidebar extends Component {\n    constructor(props) {\n        super(props);\n        this.handleOtherClick = this.handleOtherClick.bind(this);\n        this.initMenu = this.initMenu.bind(this);\n    }\n\n    /**\n     * Bind event\n     */\n    componentWillMount = () => {\n        document.addEventListener('mousedown', this.handleOtherClick, false);\n    }\n\n\n    /**\n     *\n     */\n    componentDidMount = () => {\n        this.initMenu();\n    }\n\n    /**\n     * Component did update\n     */\n    componentDidUpdate = (prevProps) => {\n        if (this.props.isCondensed !== prevProps.isCondensed) {\n            if (prevProps.isCondensed) {\n                document.body.classList.remove(\"sidebar-enable\");\n                document.body.classList.remove(\"enlarged\");\n            } else {\n                document.body.classList.add(\"sidebar-enable\");\n                const isSmallScreen = window.innerWidth < 768;\n                if (!isSmallScreen) {\n                    document.body.classList.add(\"enlarged\");\n                }\n            }\n\n            this.initMenu();\n        }\n    }\n\n    /**\n     * Bind event\n     */\n    componentWillUnmount = () => {\n        document.removeEventListener('mousedown', this.handleOtherClick, false);\n    }\n\n    /**\n     * Handle the click anywhere in doc\n     */\n    handleOtherClick = (e) => {\n        if (this.menuNodeRef.contains(e.target))\n            return;\n        // else hide the menubar\n        document.body.classList.remove('sidebar-enable');\n    }\n\n    /**\n     * Init the menu\n     */\n    initMenu = () => {\n        // render menu\n        new MetisMenu(\"#side-menu\");\n        var links = document.getElementsByClassName('side-nav-link-ref');\n        var matchingMenuItem = null;\n        for (var i = 0; i < links.length; i++) {\n            if (this.props.location.pathname === links[i].pathname) {\n                matchingMenuItem = links[i];\n                break;\n            }\n        }\n\n        if (matchingMenuItem) {\n            matchingMenuItem.classList.add('active');\n            var parent = matchingMenuItem.parentElement;\n\n            /**\n             * TODO: This is hard coded way of expading/activating parent menu dropdown and working till level 3.\n             * We should come up with non hard coded approach\n             */\n            if (parent) {\n                parent.classList.add('active');\n                const parent2 = parent.parentElement;\n                if (parent2) {\n                    parent2.classList.add('in');\n                }\n                const parent3 = parent2.parentElement;\n                if (parent3) {\n                    parent3.classList.add('active');\n                    var childAnchor = parent3.querySelector('.has-dropdown');\n                    if (childAnchor) childAnchor.classList.add('active');\n                }\n\n                const parent4 = parent3.parentElement;\n                if (parent4)\n                    parent4.classList.add('in');\n                const parent5 = parent4.parentElement;\n                if (parent5)\n                    parent5.classList.add('active');\n            }\n        }\n    }\n\n    render() {\n        const isCondensed = this.props.isCondensed || false;\n        const {user}=this.props;\n        return (\n            <React.Fragment>\n                <div className='left-side-menu' ref={node => this.menuNodeRef = node}>\n                    {!isCondensed && <PerfectScrollbar><SideNavContent user={user} /></PerfectScrollbar>}\n                    {isCondensed && <SideNavContent user={user} />}\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default connect()(Sidebar);\n","/*!\n* metismenujs - v1.1.0\n* MetisMenu with Vanilla-JS\n* https://github.com/onokumus/metismenujs#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.MetisMenu = factory());\n})(this, function () {\n  'use strict';\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  var Default = {\n    parentTrigger: \"li\",\n    subMenu: \"ul\",\n    toggle: true,\n    triggerElement: \"a\"\n  };\n  var ClassName = {\n    ACTIVE: \"mm-active\",\n    COLLAPSE: \"mm-collapse\",\n    COLLAPSED: \"mm-collapsed\",\n    COLLAPSING: \"mm-collapsing\",\n    METIS: \"metismenu\",\n    SHOW: \"mm-show\"\n  };\n\n  var MetisMenu =\n  /** @class */\n  function () {\n    /**\n     * Creates an instance of MetisMenu.\n     *\n     * @constructor\n     * @param {HTMLElement | string} element\n     * @param {IMMOptions} [options]\n     * @memberof MetisMenu\n     */\n    function MetisMenu(element, options) {\n      this.element = typeof element === \"string\" ? document.querySelector(element) : element;\n      this.cacheEl = this.element;\n      this.config = _assign({}, Default, options);\n      this.cacheConfig = this.config;\n      this.disposed = false;\n      this.ulArr = [];\n      this.listenerOb = [];\n      this.init();\n    }\n\n    MetisMenu.prototype.update = function () {\n      this.disposed = false;\n      this.element = this.cacheEl;\n      this.config = this.cacheConfig;\n      this.init();\n    };\n\n    MetisMenu.prototype.dispose = function () {\n      for (var _i = 0, _a = this.listenerOb; _i < _a.length; _i++) {\n        var lo = _a[_i];\n\n        for (var key in lo) {\n          if (lo.hasOwnProperty(key)) {\n            var el = lo[key];\n            el[1].removeEventListener(el[0], el[2]);\n          }\n        }\n      }\n\n      this.ulArr = [];\n      this.listenerOb = [];\n      this.config = null;\n      this.element = null;\n      this.disposed = true;\n    };\n\n    MetisMenu.prototype.on = function (event, fn) {\n      this.element.addEventListener(event, fn, false);\n      return this;\n    };\n\n    MetisMenu.prototype.off = function (event, fn) {\n      this.element.removeEventListener(event, fn);\n      return this;\n    };\n\n    MetisMenu.prototype.emit = function (event, eventDetail, shouldBubble) {\n      if (shouldBubble === void 0) {\n        shouldBubble = false;\n      }\n\n      var evt;\n\n      if (typeof CustomEvent === \"function\") {\n        evt = new CustomEvent(event, {\n          bubbles: shouldBubble,\n          detail: eventDetail\n        });\n      } else {\n        evt = document.createEvent(\"CustomEvent\");\n        evt.initCustomEvent(event, shouldBubble, false, eventDetail);\n      }\n\n      this.element.dispatchEvent(evt);\n      return this;\n    };\n\n    MetisMenu.prototype.init = function () {\n      this.element.classList.add(ClassName.METIS);\n      this.ulArr = [].slice.call(this.element.querySelectorAll(this.config.subMenu));\n\n      for (var _i = 0, _a = this.ulArr; _i < _a.length; _i++) {\n        var ul = _a[_i];\n        var li = ul.parentNode;\n        ul.classList.add(ClassName.COLLAPSE);\n\n        if (li.classList.contains(ClassName.ACTIVE)) {\n          this.show(ul);\n        } else {\n          this.hide(ul);\n        }\n\n        var a = li.querySelector(this.config.triggerElement);\n\n        if (a.getAttribute(\"aria-disabled\") === \"true\") {\n          return;\n        }\n\n        a.setAttribute(\"aria-expanded\", \"false\");\n        var listenerOb = {\n          aClick: [\"click\", a, this.clickEvent.bind(this)]\n        };\n\n        for (var key in listenerOb) {\n          if (listenerOb.hasOwnProperty(key)) {\n            var listener = listenerOb[key];\n            listener[1].addEventListener(listener[0], listener[2]);\n          }\n        }\n\n        this.listenerOb.push(listenerOb);\n      }\n    };\n\n    MetisMenu.prototype.clickEvent = function (ev) {\n      if (!this.disposed) {\n        if (ev.currentTarget.tagName === \"A\") {\n          ev.preventDefault();\n        }\n\n        var li = ev.currentTarget.parentNode;\n        var ul = li.querySelector(this.config.subMenu);\n        this.toggle(ul);\n      }\n    };\n\n    MetisMenu.prototype.toggle = function (ul) {\n      if (ul.parentNode.classList.contains(ClassName.ACTIVE)) {\n        this.hide(ul);\n      } else {\n        this.show(ul);\n      }\n    };\n\n    MetisMenu.prototype.show = function (ul) {\n      var _this = this;\n\n      if (this.isTransitioning || ul.classList.contains(ClassName.COLLAPSING)) {\n        return;\n      }\n\n      var complete = function complete() {\n        ul.classList.remove(ClassName.COLLAPSING);\n        ul.style.height = \"\";\n        ul.removeEventListener(\"transitionend\", complete);\n\n        _this.setTransitioning(false);\n\n        _this.emit(\"shown.metisMenu\", {\n          shownElement: ul\n        });\n      };\n\n      var li = ul.parentNode;\n      li.classList.add(ClassName.ACTIVE);\n      var a = li.querySelector(this.config.triggerElement);\n      a.setAttribute(\"aria-expanded\", \"true\");\n      a.classList.remove(ClassName.COLLAPSED);\n      ul.style.height = \"0px\";\n      ul.classList.remove(ClassName.COLLAPSE);\n      ul.classList.remove(ClassName.SHOW);\n      ul.classList.add(ClassName.COLLAPSING);\n      var eleParentSiblins = [].slice.call(li.parentNode.children).filter(function (c) {\n        return c !== li;\n      });\n\n      if (this.config.toggle && eleParentSiblins.length > 0) {\n        for (var _i = 0, eleParentSiblins_1 = eleParentSiblins; _i < eleParentSiblins_1.length; _i++) {\n          var sibli = eleParentSiblins_1[_i];\n          var sibUl = sibli.querySelector(this.config.subMenu);\n\n          if (sibUl !== null) {\n            this.hide(sibUl);\n          }\n        }\n      }\n\n      this.setTransitioning(true);\n      ul.classList.add(ClassName.COLLAPSE);\n      ul.classList.add(ClassName.SHOW);\n      ul.style.height = ul.scrollHeight + \"px\";\n      this.emit(\"show.metisMenu\", {\n        showElement: ul\n      });\n      ul.addEventListener(\"transitionend\", complete);\n    };\n\n    MetisMenu.prototype.hide = function (ul) {\n      var _this = this;\n\n      if (this.isTransitioning || !ul.classList.contains(ClassName.SHOW)) {\n        return;\n      }\n\n      this.emit(\"hide.metisMenu\", {\n        hideElement: ul\n      });\n      var li = ul.parentNode;\n      li.classList.remove(ClassName.ACTIVE);\n\n      var complete = function complete() {\n        ul.classList.remove(ClassName.COLLAPSING);\n        ul.classList.add(ClassName.COLLAPSE);\n        ul.style.height = \"\";\n        ul.removeEventListener(\"transitionend\", complete);\n\n        _this.setTransitioning(false);\n\n        _this.emit(\"hidden.metisMenu\", {\n          hiddenElement: ul\n        });\n      };\n\n      ul.style.height = ul.getBoundingClientRect().height + \"px\";\n      ul.style.height = ul.offsetHeight + \"px\";\n      ul.classList.add(ClassName.COLLAPSING);\n      ul.classList.remove(ClassName.COLLAPSE);\n      ul.classList.remove(ClassName.SHOW);\n      this.setTransitioning(true);\n      ul.addEventListener(\"transitionend\", complete);\n      ul.style.height = \"0px\";\n      var a = li.querySelector(this.config.triggerElement);\n      a.setAttribute(\"aria-expanded\", \"false\");\n      a.classList.add(ClassName.COLLAPSED);\n    };\n\n    MetisMenu.prototype.setTransitioning = function (isTransitioning) {\n      this.isTransitioning = isTransitioning;\n    };\n\n    return MetisMenu;\n  }();\n\n  return MetisMenu;\n});"],"sourceRoot":""}